---
title: 'ê°€ìƒ ìŠ¤í¬ë¡¤(Virtual Scroll)ê³¼ ë¬´í•œ ìŠ¤í¬ë¡¤(Infinite Scroll) ì •ë¦¬'
excerpt: 'ê°€ìƒ ìŠ¤í¬ë¡¤(Virtual Scroll)ê³¼ ë¬´í•œ ìŠ¤í¬ë¡¤(Infinite Scroll) ì •ë¦¬í•œ ê¸€ê¸€'
date: '2025-10-22'
thumbnail: '/thumbnail/scroll-study/index.png'
tags:
  - React
  - Hook
  - useEffect
slug: goodbye-useEffect
series: Article
---

# ê°€ìƒ ìŠ¤í¬ë¡¤(Virtual Scroll)ê³¼ ë¬´í•œ ìŠ¤í¬ë¡¤(Infinite Scroll) ì •ë¦¬

ìµœê·¼ íšŒì‚¬ì—ì„œ ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ í‘œì‹œí•˜ëŠ” í™”ë©´ì„ ê°œë°œí•˜ë˜ ì¤‘,
ë‹¨ìˆœí•œ ë¬´í•œ ìŠ¤í¬ë¡¤ ë°©ì‹ë§Œìœ¼ë¡œëŠ” ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí•˜ëŠ” ë¬¸ì œë¥¼ ê²½í—˜í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
ì´ë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ ê°€ìƒ ìŠ¤í¬ë¡¤(Virtual Scroll) ê¸°ë²•ì„ í•™ìŠµí•˜ê³ ,
ì •ë¦¬í•œ ë‚´ìš©ì„ ê³µìœ í•˜ê³ ì í•©ë‹ˆë‹¤.

## ğŸŒŠ ë¬´í•œ ìŠ¤í¬ë¡¤ì´ë€?

**ë¬´í•œ ìŠ¤í¬ë¡¤(Infinite Scroll)** ì€ ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ìŠ¤í¬ë¡¤í•  ë•Œ,
ìë™ìœ¼ë¡œ ë‹¤ìŒ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ í™”ë©´ì— ì´ì–´ ë¶™ì´ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.
ì¦‰, ì‚¬ìš©ìëŠ” â€œí˜ì´ì§€ ì´ë™â€ ì—†ì´ë„ ê³„ì†í•´ì„œ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ëŒ€í‘œì ìœ¼ë¡œ ì¸ìŠ¤íƒ€ê·¸ë¨ í”¼ë“œ, íŠ¸ìœ„í„° íƒ€ì„ë¼ì¸, ë„¤ì´ë²„ ë‰´ìŠ¤ í”¼ë“œ ë“±ì´
ì´ ê¸°ë²•ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ğŸ“¦ ê¸°ë³¸ì ì¸ ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„ ì˜ˆì‹œ

```js
const onScroll = useCallback(() => {
  if (loading || !hasMore) return;

  // ìŠ¤í¬ë¡¤ì´ í™”ë©´ ë ê·¼ì²˜(200px ì´ë‚´)ì— ë„ë‹¬í•˜ë©´ ë‹¤ìŒ í˜ì´ì§€ ìš”ì²­
  if (window.innerHeight + window.scrollY >= document.documentElement.scrollHeight - 200) {
    setPage((prevPage) => prevPage + 1);
  }
}, [loading, hasMore]);

const loadData = useCallback(async (pageNum) => {
  try {
    setLoading(true);
    const result = await fetchDataPaginated(pageNum, 50);

    if (pageNum === 1) {
      setData(result.data);
    } else {
      setData((prev) => [...prev, ...result.data]);
    }

    setHasMore(result.hasMore);
  } catch (err) {
    setError(err.message);
  } finally {
    setLoading(false);
  }
}, []);

useEffect(() => {
  window.addEventListener('scroll', onScroll);
  return () => window.removeEventListener('scroll', onScroll);
}, [onScroll]);

useEffect(() => {
  loadData(1);
}, []);

useEffect(() => {
  if (page > 1) loadData(page);
}, [page]);
```

## âš ï¸ ë¬´í•œ ìŠ¤í¬ë¡¤ì˜ í•œê³„

ë¬´í•œ ìŠ¤í¬ë¡¤ì€ ì‚¬ìš©ì ê²½í—˜ ì¸¡ë©´ì—ì„œ í¸ë¦¬í•˜ì§€ë§Œ,
ë°ì´í„°ê°€ ë§ì•„ì§ˆìˆ˜ë¡ ë¸Œë¼ìš°ì € ì„±ëŠ¥ì´ ê¸‰ê²©íˆ ì €í•˜ë˜ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.
ê·¸ ì´ìœ ëŠ” ë‹¨ìˆœí•©ë‹ˆë‹¤.
í™”ë©´ì—ëŠ” ë³´ì´ì§€ ì•Šë”ë¼ë„, ë¸Œë¼ìš°ì €ëŠ” ëª¨ë“  ìš”ì†Œë¥¼ DOM íŠ¸ë¦¬ì— ìœ ì§€í•˜ê³ 
ë Œë”ë§í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ì¦‰, ë°ì´í„°ê°€ ë§ì„ìˆ˜ë¡ ë Œë”ë§ì— í•„ìš”í•œ CPUì™€ ë©”ëª¨ë¦¬ ìì›ì´ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€í•©ë‹ˆë‹¤.
ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë“±ì¥í•œ ê¸°ë²•ì´ ë°”ë¡œ **ê°€ìƒ ìŠ¤í¬ë¡¤(Virtual Scroll)**ì…ë‹ˆë‹¤.

## ğŸš€ ê°€ìƒ ìŠ¤í¬ë¡¤(Virtual Scroll)ì´ë€?

ê°€ìƒ ìŠ¤í¬ë¡¤ì€ ì‚¬ìš©ìì—ê²Œ ì‹¤ì œë¡œ ë³´ì´ëŠ” ìš”ì†Œë§Œ ë Œë”ë§í•˜ê³ ,
í™”ë©´ ë°–ì— ê°€ë ¤ì§„ ìš”ì†ŒëŠ” ë Œë”ë§í•˜ì§€ ì•ŠëŠ” ê¸°ë²•ì…ë‹ˆë‹¤.

ì¦‰, â€œë¸Œë¼ìš°ì €ëŠ” ì ì€ ìˆ˜ì˜ DOMë§Œ ìœ ì§€í•˜ì§€ë§Œ,
ì‚¬ìš©ìëŠ” ë§ˆì¹˜ ì „ì²´ ë°ì´í„°ê°€ ë‹¤ ë Œë”ë§ëœ ê²ƒì²˜ëŸ¼ ëŠë¼ê²Œ ë§Œë“œëŠ” ê¸°ìˆ â€
ì…ë‹ˆë‹¤.

ì´ ë°©ì‹ì€ ìˆ˜ì²œ~ìˆ˜ë§Œ ê°œì˜ ë°ì´í„°ë¥¼ í‘œì‹œí•´ì•¼ í•˜ëŠ”
ëŒ€ìš©ëŸ‰ ë¦¬ìŠ¤íŠ¸ë‚˜ í”¼ë“œí˜• UIì—ì„œ íŠ¹íˆ íš¨ê³¼ì ì…ë‹ˆë‹¤.
ì¸ìŠ¤íƒ€ê·¸ë¨, í•€í„°ë ˆìŠ¤íŠ¸, ìœ íŠœë¸Œ, ì¿ íŒ¡ ë“±ì˜ ì„œë¹„ìŠ¤ì—ì„œ í™œìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤.

## ğŸ” ì›ë¦¬ ì„¤ëª…

ê°€ìƒ ìŠ¤í¬ë¡¤ì˜ í•µì‹¬ ì›ë¦¬ëŠ” ë Œë”ë§ ë²”ìœ„ë¥¼ ì œí•œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
ì „ì²´ ë°ì´í„°ë¥¼ í•œêº¼ë²ˆì— ê·¸ë¦¬ì§€ ì•Šê³ , í˜„ì¬ í™”ë©´ì— ë³´ì´ëŠ” ì¼ë¶€ ë°ì´í„°ë§Œ í‘œì‹œí•©ë‹ˆë‹¤.

ë Œë”ë§ ê°€ëŠ¥í•œ ì•„ì´í…œ ìˆ˜ ê³„ì‚°
ì˜ˆë¥¼ ë“¤ì–´, ê° ì•„ì´í…œì˜ ë†’ì´ê°€ 50px, ë¸Œë¼ìš°ì € ë†’ì´ê°€ 800pxì´ë¼ë©´
í•œ í™”ë©´ì— ì•½ 16ê°œì˜ ì•„ì´í…œì´ í‘œì‹œë©ë‹ˆë‹¤.
ì‹¤ì œ ë°ì´í„°ê°€ 1ë§Œ ê°œì—¬ë„ ì´ 16ê°œë§Œ ë Œë”ë§í•˜ë©´ ë©ë‹ˆë‹¤.

ìŠ¤í¬ë¡¤ ìœ„ì¹˜ì— ë”°ë¥¸ ì¸ë±ìŠ¤ ê³„ì‚°ì„ í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ ë†“ê³ , ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ì— ë”°ë¼ í˜¸ì¶œí•©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ìŠ¤í¬ë¡¤ì„ ì‚¬ìš©ìê°€ ìì—°ìŠ¤ëŸ½ê²Œ ì´ë™í•˜ëŠ” ê²ƒì²˜ëŸ¼ ëŠê»´ì§€ê¸° í•˜ê¸° ìœ„í•´ íŒ¨ë”©ì„ ì´ìš©í•´ ì „ì²´ ë†’ì´ ë³´ì •ì„ í•©ë‹ˆë‹¤.

### êµ¬ì„±ìš”ì†Œ

```text
startIndex: ìŠ¤í¬ë¡¤ ìœ„ìª½ì— ë³´ì´ëŠ” ì•„ì´í…œ ì‹œì‘ ì¸ë±ìŠ¤

endIndex: ìŠ¤í¬ë¡¤ ìœ„ìª½ì— ë³´ì´ëŠ” ì•„ì´í…œ ë ì¸ë±ìŠ¤

paddingTop: ìŠ¤í¬ë¡¤ ìœ„ìª½ì˜ ë³´ì´ì§€ ì•ŠëŠ” ì•„ì´í…œ ì´ ë†’ì´

paddingBottom: ì•„ë˜ìª½ì˜ ë‚¨ì€ ì•„ì´í…œ ì´ ë†’ì´

ì´ë ‡ê²Œ ê³µê°„ì„ ì±„ì›Œ ì‚¬ìš©ì ì…ì¥ì—ì„œëŠ” â€œì „ì²´ ë°ì´í„°ê°€ ë‹¤ ìˆëŠ” ê²ƒì²˜ëŸ¼â€ ëŠê»´ì§€ê²Œ ë©ë‹ˆë‹¤.
```

## ğŸ’» êµ¬í˜„ ì˜ˆì‹œ

```js
import React, { useEffect, useState } from 'react';

const VirtualScroll = ({ data }) => {
  const ITEM_HEIGHT = 50;
  const viewportHeight = window.innerHeight;
  const renderCount = Math.ceil(viewportHeight / ITEM_HEIGHT) + 5; // ë²„í¼ ì¶”ê°€

  const [padding, setPadding] = useState({ top: 0, bottom: 0 });
  const [startIndex, setStartIndex] = useState(0);
  const [endIndex, setEndIndex] = useState(renderCount);

  useEffect(() => {
    const onScroll = () => {
      const scrollY = window.scrollY;
      const newStartIndex = Math.floor(scrollY / ITEM_HEIGHT);
      const newEndIndex = newStartIndex + renderCount;

      setStartIndex(newStartIndex);
      setEndIndex(newEndIndex);

      setPadding({
        top: newStartIndex * ITEM_HEIGHT,
        bottom: Math.max((data.length - newEndIndex) * ITEM_HEIGHT, 0),
      });
    };

    window.addEventListener('scroll', onScroll);
    return () => window.removeEventListener('scroll', onScroll);
  }, [data]);

  const visibleData = data.slice(startIndex, endIndex);

  return (
    <div
      style={{
        paddingTop: `${padding.top}px`,
        paddingBottom: `${padding.bottom}px`,
      }}
    >
      {visibleData.map((item) => (
        <div key={item.id} className='item' style={{ height: `${ITEM_HEIGHT}px` }}>
          <span className='item-id'>#{item.id}</span>
          <span className='item-content'>{item.name}</span>
        </div>
      ))}
    </div>
  );
};

export default VirtualScroll;
```

## ğŸ¥ ì‹œì—°

![ê°€ìƒ ìŠ¤í¬ë¡¤ ì‹œì—°](/thumbnail/scroll-study/demo.gif)
